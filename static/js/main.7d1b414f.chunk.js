(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,a,t){e.exports=t(67)},38:function(e,a,t){},43:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),s=(t(38),t(14)),l=function(){return r.a.createElement(s.a,null,r.a.createElement("nav",{className:"navbar  navbar-expand-lg navbar-dark  bg-dark"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Crypto Order Book App"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))))},i=(t(43),t(7)),u=(t(44),t(13)),m=t.n(u),d=t(29),b=t(6),v=t(30),p=t.n(v),f=function(e){var a=e.currencyPairs,t=Object(n.useState)(),c=Object(b.a)(t,2),o=c[0],s=c[1],l=Object(n.useState)(),u=Object(b.a)(l,2),m=u[0],d=u[1],v=Object(n.useState)(!1),p=Object(b.a)(v,2),f=p[0],g=p[1],y=Object(n.useState)(!1),E=Object(b.a)(y,2),k=E[0],w=E[1],h={listStyleType:"none",textAlign:"right"},O={marginLeft:"216px"};return r.a.createElement("div",{className:"form-group container"},r.a.createElement("label",{htmlFor:"currencyPair",style:{fontSize:20}},"Currency Pair"),r.a.createElement("select",{name:"currencyPair",className:"form-control",id:"currencyPair",onChange:function(e){var a=e.target;g(!0);var t=new WebSocket("wss://ws.bitstamp.net");t.onopen=function(e){console.log("[open] Connection established, send -> server"),t.send(JSON.stringify({event:"bts:unsubscribe",data:{channel:"order_book_".concat(a.value)}})),t.send(JSON.stringify({event:"bts:subscribe",data:{channel:"order_book_".concat(a.value)}}))},t.onmessage=function(e){w(!0);var a=JSON.parse(e.data).data,t=a.bids,n=a.asks;s(t),d(n),g(!1)},k&&i.b.success("Showing streaming order books (list of asks and bids)"),t.onclose=function(e){g(!1),e.wasClean?alert("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):alert("[close] Connection died")},t.onerror=function(e){g(!1),alert("[error] ".concat(e.message))}}},r.a.createElement("option",{disabled:!0,selected:!0,value:""},"Select to show streaming order books (list of bids and asks)"),a.map(function(e){var a=e.url_symbol,t=e.name;return r.a.createElement("option",{key:a,value:a},t)})),f&&r.a.createElement("div",{className:"spinner"}),o&&m&&r.a.createElement("div",{className:"mt-5 row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h2",{style:O},"Bids"),o.map(function(e){return r.a.createElement("li",{style:h,key:e[0]},e[1]," BTC @ ",e[0]," USD")})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h2",{style:O},"Asks"),m.map(function(e){return r.a.createElement("li",{style:h,key:e[0]},e[1]," BTC @ ",e[0]," USD")}))))};function g(){var e=Object(n.useState)([]),a=Object(b.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)(function(){(function(){var e=Object(d.a)(m.a.mark(function e(){var a,t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://www.bitstamp.net/api/v2/trading-pairs-info/");case 3:a=e.sent,t=a.data,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i.b.error("".concat(e.t0,", unable to fetch currency pairs. Check your internet connection"));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}})()()},[]),r.a.createElement(f,{currencyPairs:t})}var y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement(l,null),r.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(65),t(66);o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.7d1b414f.chunk.js.map